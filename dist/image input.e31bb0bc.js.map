{"version":3,"sources":["sourse/uploader.js","index.js","../../AppData/Roaming/npm/node_modules/parcel-bundler/src/builtins/bundle-url.js","../../AppData/Roaming/npm/node_modules/parcel-bundler/src/builtins/css-loader.js"],"names":["console","log","upload","selector","options","input","document","querySelector","open","createElement","$window","getElementById","classList","add","textContent","b1Text","multi","setAttribute","insertAdjacentElement","accept","Array","isArray","join","changeHandler","event","target","files","lenght","from","$output","parentNode","nextElementSibling","i","item","reader","FileReader","onload","ev","insertAdjacentHTML","result","name","kb","loaded","readAsDataURL","length","$uploader","items","setTimeout","querySelectorAll","style","display","addEventListener","arrload","e","preventDefault","dataset","btn","loadItems","y","closest","width","height","remove","arr","delay","element","animationDelay","loadbar","animationDuration","size","numLoading","al","alertLoading","children","elem","num","Math","floor","offsetWidth","template","click","b2Text","bundleURL","getBundleURLCached","getBundleURL","Error","err","matches","stack","match","getBaseURL","url","replace","exports","bundle","require","updateLink","link","newLink","cloneNode","href","split","Date","now","insertBefore","nextSibling","cssTimeout","reloadCSS","links","module"],"mappings":"AEAA,ACAA,IDAIkF,ACAAY,MAAM,GDAG,ACAAC,GDAG,IAAhB,ACAoB,CAAC,cAAD,CAApB;;ADCA,ACCA,AFFA,SCCSZ,ACCAa,UAAT,CAAoBC,IAApB,EAA0B,CDD1B,GAA8B;AAC5B,ACCA,MDDI,ACCAC,CDDChB,MCCM,GDDX,ACCce,EDDE,ECCE,CAACE,SAAL,EAAd;ADAEjB,ADDJ,ICCIA,SAAS,GAAGE,YAAY,EAAxB;AACD,ACADc,EAAAA,OAAO,CAAC9D,MAAR,GAAiB,YAAY;AAC3B6D,AFDJ,ADJAjG,IGKIiG,GHLG,CGKC,AHLAhG,CGKC6D,EHLT,CAAY,GGKR,KHLJ,ECIO,QAAP,EAAiB;ACEf,ACAC,AFDC9C,EAAAA,CEDF,IFCO,ECCAkE,ADDG,IADK,KCEf;AACD,ADDGnE,ADJG,ECIHA,MAAM,CDJMb,CCIH,KDJN,CAAgBC,GCEN,KDFV,EAAsC;AGK3C+F,AFAEjB,ADLyC,EGK3CiB,AFAEjB,IDL6B7E,ECKvB,CEAD,CAACgG,AFAG,GDLgC,CGK3C,GAAeH,IAAI,AFHJ,CEGKG,IAAL,CAAUC,KAAV,CAAgB,GAAhB,EAAqB,CAArB,IAA0B,GAA1B,GAAgCC,IAAI,CAACC,GAAL,EAA/C,yBHLwC,EAAG;AEO7C,ACDEN,AFAE9E,ADLAnB,EGKFiG,AFAE9E,ADLAnB,IGKE,CAAC8B,CFAG,CCCDsD,AFNE,CCKE,ADLDnF,CCKE,EDLV,CAAYG,GGKd,AFAW,CEAKoG,CFAI,ECCtB,AFNI,GEMoB,EDDX,EAAkB,EEA7B,CAA6BN,GFAlB,EAA0B,EEArC,EAAsCD,EFA3B,EEA+B,CAACQ,WAA3C;ADEA,ACDD,AFLgB,ADAhB,CCAD,KDAOpG,KAAK,GAAGC,QAAQ,CAACC,aAAT,CAAuBJ,QAAvB,CAAd;AEOC,AFND,MEMK,AFNCK,IAAI,GAAGF,QAAQ,CAACG,aAAT,CAAuB,QAAvB,CAAb;AEOG,ACDJ,AHLC,IGKGiG,EHLGhG,IEMG,GFNI,CEMA2E,ACDA,EHLG/E,CGKA,EDCP,EAAN,ACDJ,GHLyB,CAACK,cAAT,CAAwB,IAAxB,CAAhB;AEOE,AFNFH,EAAAA,CEIC,CAEE,EFNC,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","file":"image input.e31bb0bc.js","sourceRoot":"..","sourcesContent":["console.log('upload');\r\n\r\nexport function upload(selector, options ={}){\r\n    console.log(options)\r\n const input = document.querySelector(selector);\r\n const open = document.createElement('button');\r\n const $window = document.getElementById('up');\r\n open.classList.add('uploader-head__open')\r\n open.textContent = options.b1Text || 'Open';\r\nif(options.multi) input.setAttribute('multiple', true)\r\n input.insertAdjacentElement(\"afterend\", open);\r\n\r\n if(options.accept && Array.isArray(options.accept)){\r\n     input.setAttribute('accept', options.accept.join(','))\r\n }\r\n const changeHandler = event =>{\r\n if(event.target.files.lenght == 0) {return};\r\n\r\n    const files = Array.from(event.target.files);\r\n    const $output =  input.parentNode.parentNode.nextElementSibling\r\n    for (let i = 0; i < files.length; i++) {\r\n      let item =  document.createElement('div');\r\n      item.classList.add('uploader-item');\r\n     \r\n      const reader = new FileReader();\r\n      reader.onload = ev =>{\r\n          console.log(ev);\r\n        $output.insertAdjacentHTML(\"afterbegin\", `<div class=\"uploader-item\">\r\n        <img src=\"${ev.target.result}\" class=\"uploader-item__img\" alt=\"\">\r\n        <div class=\"uploader-item__inform\">\r\n        <div class=\"uploader-item__delete\"><span data-btn=\"delete\">&times;<\\span></div>\r\n            <div class=\"uploader-item__footer\">\r\n                <span class=\"uploader-item__name\">${files[i].name}</span>\r\n                <span class=\"uploader-item__size\">${kb(ev.loaded)} KB</span>\r\n            </div>\r\n        <div class=\"uploader-item__loading\">\r\n        <div class=\"uploader-item__loadbar\" data-load></div>\r\n        <span class=\"uploader-item__percent\" data-percent>0%</span> \r\n     </div>\r\n\r\n  </div>\r\n    </div>`)\r\n      }\r\n      reader.readAsDataURL(files[i]);\r\n     \r\n    }\r\n    let $uploader = $output.parentNode.querySelector('[data-btn=\"upload\"]')\r\n    let items;\r\n    setTimeout (function(){\r\n     items =  document.getElementById('space').querySelectorAll('.uploader-item');\r\n    \r\n    console.log(items,$output, $uploader);\r\n    items.lenght !== 0 ? $uploader.style.display = 'block' : $uploader.style.display = 'none'; \r\n    $uploader.addEventListener('click', arrload(items))\r\n    }, 500)\r\n   $window.addEventListener('click', (e)=>{\r\n       e.preventDefault();\r\n       if(e.target.dataset.btn == \"upload\"){\r\n        loadItems(items,files);\r\n       }\r\n       if(e.target.dataset.btn == \"delete\"){\r\n           let y = e.target.closest('.uploader-item');\r\n           y.style.width = '0px';\r\n           y.style.height = '0px';\r\n         setTimeout( ()=> y.remove(), 300)\r\n          \r\n       }\r\n   })\r\n\r\n}\r\nfunction arrload(arr){\r\n    let delay = 0;\r\nfor (let i = 0; i < arr.length; i++) {\r\n    const element = arr[i];\r\n    delay += 3;\r\n    element.querySelector('.uploader-item__img').classList.add('uploaded')\r\n    element.querySelector('.uploader-item__img').style.animationDelay = delay/10 + 's';\r\n}}\r\nfunction loadItems(items, files){\r\n    for (let i = 0; i < items.length; i++) {\r\n        const element = items[i];\r\n        element.classList.add('loading');\r\n        const loadbar = element.querySelector('[data-load]');\r\n        loadbar.style.animationDuration = files[i].size / 18000 + 's';\r\n        loadbar.addEventListener('animationend', ()=>{\r\n            numLoading(loadbar);\r\n            const al = document.getElementById('alerts');\r\n          al.insertAdjacentHTML(\"beforeend\", alertLoading(files[i]));\r\n          al.children ? al.classList.add('appear') : al.classList.remove('appear');\r\n        })\r\n         \r\n        }\r\n    }\r\n   \r\nfunction numLoading(elem){\r\n let num = elem.nextElementSibling;\r\n num.textContent = Math.floor(elem.offsetWidth / 1.5) + '%';\r\n}\r\n\r\n \r\nfunction alertLoading(element){\r\n    let template =`\r\n    <div class=\"upload-alerts__item appeared\">\r\n          <span> Вашого кандидата під іменем <a href=\"\">${element.name}</a>\r\n            було успішно занесено до бази даних </span> \r\n            <a href=\"\" class=\"croos\">&times;</a>\r\n        </div>\r\n    `\r\n    return template\r\n}\r\n\r\nfunction kb(num){\r\n    return Math.floor(num / 1000)\r\n}\r\n\r\n open.addEventListener('click', ()=>{\r\n     input.click()\r\n })\r\n input.addEventListener('change', changeHandler)\r\n}","import {upload} from './sourse/uploader.js';\r\n\r\nimport './sourse/style.scss';\r\n\r\nupload('#input', {\r\n    multi : true,\r\n    b1Text : 'opening',\r\n    b2Text : 'uploading',\r\n    accept : ['.png', '.jpeg', '.jpg', '.psd']\r\n})","var bundleURL = null;\nfunction getBundleURLCached() {\n  if (!bundleURL) {\n    bundleURL = getBundleURL();\n  }\n\n  return bundleURL;\n}\n\nfunction getBundleURL() {\n  // Attempt to find the URL of the current script and use that as the base URL\n  try {\n    throw new Error;\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|chrome-extension|moz-extension):\\/\\/[^)\\n]+/g);\n    if (matches) {\n      return getBaseURL(matches[0]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|chrome-extension|moz-extension):\\/\\/.+)?\\/[^/]+(?:\\?.*)?$/, '$1') + '/';\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\n","var bundle = require('./bundle-url');\n\nfunction updateLink(link) {\n  var newLink = link.cloneNode();\n  newLink.onload = function () {\n    link.remove();\n  };\n  newLink.href = link.href.split('?')[0] + '?' + Date.now();\n  link.parentNode.insertBefore(newLink, link.nextSibling);\n}\n\nvar cssTimeout = null;\nfunction reloadCSS() {\n  if (cssTimeout) {\n    return;\n  }\n\n  cssTimeout = setTimeout(function () {\n    var links = document.querySelectorAll('link[rel=\"stylesheet\"]');\n    for (var i = 0; i < links.length; i++) {\n      if (bundle.getBaseURL(links[i].href) === bundle.getBundleURL()) {\n        updateLink(links[i]);\n      }\n    }\n\n    cssTimeout = null;\n  }, 50);\n}\n\nmodule.exports = reloadCSS;\n"]}